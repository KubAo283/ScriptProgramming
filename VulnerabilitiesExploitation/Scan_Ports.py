import socket

'''
Description:
This is a simple python script that scans a range of 
ports on a specified IP address to check if they are open.
'''

# Setup parameters
ip = "127.0.0.1"
start_port = 1
end_port = 1024  # Range of scanned ports


for port in range(start_port, end_port + 1):
    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM) # Creating a TCP socket
    sock.settimeout(0.5)  # Setting a timeout for the connection attempt, so the program doesn't hang too long on closed ports
    result = sock.connect_ex((ip, port)) # Attempting to connect to the given port and IP address
    #Checking if the port is open
    if result == 0:
        print(f"Port {port} is OPEN")
    elif result == 111:  # Connection refused error
        print(f"Port {port} is CLOSED")
    else:
        print(f"Port {port} is FILTERED or UNKNOWN")
    sock.close()

